# Online Dead Stock Register - Complete System Architecture

## ðŸ“Š System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CLIENT LAYER (Frontend)                           â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Browser    â”‚  â”‚    React     â”‚  â”‚  TypeScript  â”‚  â”‚ Material-UI  â”‚     â”‚
â”‚  â”‚  (Chrome,    â”‚  â”‚    18.x      â”‚  â”‚     5.x      â”‚  â”‚    5.14.x    â”‚     â”‚
â”‚  â”‚  Firefox)    â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         User Interface Layer                          â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚  Login  â”‚  â”‚  Admin  â”‚  â”‚ Auditor â”‚  â”‚Employee â”‚  â”‚ Vendor  â”‚      â”‚  â”‚
â”‚  â”‚  â”‚  Pages  â”‚  â”‚  Pages  â”‚  â”‚  Pages  â”‚  â”‚  Pages  â”‚  â”‚  Pages  â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Component Layer                                  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  Layout Components    â”‚  Feature Components    â”‚  Common Components   â”‚  â”‚
â”‚  â”‚  â€¢ DashboardLayout    â”‚  â€¢ AssetTable          â”‚  â€¢ Modals            â”‚  â”‚
â”‚  â”‚  â€¢ Sidebar            â”‚  â€¢ AuditList           â”‚  â€¢ Forms             â”‚  â”‚
â”‚  â”‚  â€¢ Header             â”‚  â€¢ ApprovalCards       â”‚  â€¢ Charts            â”‚  â”‚
â”‚  â”‚  â€¢ Footer             â”‚  â€¢ UserManagement      â”‚  â€¢ DataGrids         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    State Management Layer                             â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚
â”‚  â”‚  â”‚ AuthContext  â”‚    â”‚ModalContext â”‚    â”‚  Redux Store â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ (User State) â”‚    â”‚(Modal State)â”‚    â”‚ (App State)  â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Service Layer (API Calls)                        â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  auditorService  â”‚  assetService  â”‚  authService  â”‚  userService      â”‚  â”‚
â”‚  â”‚  vendorService   â”‚  approvalService â”‚  documentService                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    HTTP Client (Axios)                                â”‚  â”‚
â”‚  â”‚  â€¢ JWT Token Management  â€¢ Request Interceptors                       â”‚  â”‚
â”‚  â”‚  â€¢ Error Handling        â€¢ Response Interceptors                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†• HTTP/HTTPS
                                     â†• REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NETWORK LAYER                                     â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    API Gateway (Express Router)                       â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  Port 5000 â”‚ CORS Enabled â”‚ Body Parser â”‚ Cookie Parser               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SERVER LAYER (Backend)                              â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Node.js    â”‚  â”‚   Express    â”‚  â”‚   MongoDB    â”‚  â”‚    Multer    â”‚     â”‚
â”‚  â”‚   v22.18.0   â”‚  â”‚    4.18.2    â”‚  â”‚   Mongoose   â”‚  â”‚  (File Upl.) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         Middleware Layer                              â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ authMiddleware   â”‚  â”‚ uploadMiddleware â”‚  â”‚ errorMiddleware  â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ JWT Verify     â”‚  â”‚ â€¢ File Storage   â”‚  â”‚ â€¢ Error Handler  â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Role Check     â”‚  â”‚ â€¢ File Filter    â”‚  â”‚ â€¢ Logger         â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Token Refresh  â”‚  â”‚ â€¢ Size Limit     â”‚  â”‚ â€¢ Status Codes   â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  
â”‚                                    â†•                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         Routes Layer                                  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  /auth          â”‚  /assets        â”‚  /users          â”‚  /approvals    â”‚  â”‚
â”‚  â”‚  /auditor       â”‚  /vendors       â”‚  /documents      â”‚  /maintenance  â”‚  â”‚
â”‚  â”‚  /dashboard     â”‚  /transactions  â”‚  /notifications  â”‚  /upload       â”‚  â”‚
â”‚  â”‚  /export-import â”‚  /asset-requestsâ”‚  /asset-transfersâ”‚  /audit-logs   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Controller Layer                                 â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  authController         â”‚  assetController        â”‚  userController   â”‚  â”‚
â”‚  â”‚  auditorController      â”‚  approvalController     â”‚  vendorController â”‚  â”‚
â”‚  â”‚  dashboardController    â”‚  documentController     â”‚  uploadController â”‚  â”‚
â”‚  â”‚  exportImportController â”‚  maintenanceController  â”‚  auditLogCtrl     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        Model Layer (Mongoose)                         â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  User    â”‚  Asset   â”‚  Approval  â”‚  Vendor   â”‚  Document              â”‚  â”‚
â”‚  â”‚  Transaction â”‚  Maintenance â”‚  Notification â”‚  PurchaseOrder          â”‚  â”‚
â”‚  â”‚  AuditLog    â”‚  AssetRequestâ”‚  AssetTransferâ”‚  PurchaseRequest        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE LAYER                                      â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      MongoDB Atlas (Cloud)                            â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  Collections:                                                         â”‚  â”‚
â”‚  â”‚  â€¢ users          â€¢ assets          â€¢ approvals      â€¢ vendors        â”‚  â”‚
â”‚  â”‚  â€¢ transactions   â€¢ maintenances    â€¢ notifications  â€¢ documents      â”‚  â”‚
â”‚  â”‚  â€¢ auditlogs      â€¢ assetrequests   â€¢ assettransfers                  â”‚  â”‚
â”‚  â”‚  â€¢ purchaseorders â€¢ purchaserequests                                  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  Features: Auto-backup, Replication, Sharding, Indexes                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FILE STORAGE LAYER                                  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Local File System                                â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  uploads/                                                             â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ documents/      (User documents, PDFs, contracts)                â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ asset-images/   (Asset photos, QR codes)                         â”‚  â”‚
â”‚  â”‚  â””â”€â”€ temp/           (Import files - auto-deleted)                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ Complete User Workflow Diagram

### Workflow 1: User Authentication & Authorization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AUTHENTICATION WORKFLOW                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User                Frontend              API Gateway         Controller        Database
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚  1. Enter          â”‚                      â”‚                   â”‚               â”‚
  â”‚  credentials       â”‚                      â”‚                   â”‚               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                      â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚                    â”‚  2. POST /auth/login â”‚                   â”‚               â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚  3. Validate      â”‚               â”‚
  â”‚                    â”‚                      â”‚  credentials      â”‚               â”‚
  â”‚                    â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚  4. Query     â”‚
  â”‚                    â”‚                      â”‚                   â”‚  user         â”‚
  â”‚                    â”‚                      â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚  5. User data â”‚
  â”‚                    â”‚                      â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚  6. Generate JWT  â”‚               â”‚
  â”‚                    â”‚                      â”‚  (12hr expiry)    â”‚               â”‚
  â”‚                    â”‚                      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚                    â”‚  7. Return token +   â”‚                   â”‚               â”‚
  â”‚                    â”‚  user data           â”‚                   â”‚               â”‚
  â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚  8. Store token    â”‚                      â”‚                   â”‚               â”‚
  â”‚  in localStorage   â”‚                      â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚
  â”‚  9. Redirect to    â”‚                      â”‚                   â”‚               â”‚
  â”‚  role-based        â”‚                      â”‚                   â”‚               â”‚
  â”‚  dashboard         â”‚                      â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚                   â”‚               â”‚
  â”‚                    â”‚                      â”‚                   â”‚               â”‚

Success: User logged in, token stored, redirected to dashboard
Failure: Invalid credentials â†’ Show error message â†’ Retry
```

### Workflow 2: Asset Audit Process (Auditor Role)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ASSET AUDIT WORKFLOW                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Auditor           Frontend            Service Layer        Backend API       Database
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚  1. Navigate to  â”‚                     â”‚                   â”‚                â”‚
  â”‚  Audit List Page â”‚                     â”‚                   â”‚                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚  2. Load audit data â”‚                   â”‚                â”‚
  â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚  3. GET           â”‚                â”‚
  â”‚                  â”‚                     â”‚  /auditor/        â”‚                â”‚
  â”‚                  â”‚                     â”‚  audit-items      â”‚                â”‚
  â”‚                  â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚  4. Fetch all  â”‚
  â”‚                  â”‚                     â”‚                   â”‚  assets        â”‚
  â”‚                  â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚  5. Asset list â”‚
  â”‚                  â”‚                     â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚  6. Format &      â”‚                â”‚
  â”‚                  â”‚                     â”‚  return data      â”‚                â”‚
  â”‚                  â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚  7. Update state    â”‚                   â”‚                â”‚
  â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚  8. Display      â”‚                     â”‚                   â”‚                â”‚
  â”‚  audit table     â”‚                     â”‚                   â”‚                â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚  9. Click Edit   â”‚                     â”‚                   â”‚                â”‚
  â”‚  on asset        â”‚                     â”‚                   â”‚                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚  10. Edit Dialog â”‚                     â”‚                   â”‚                â”‚
  â”‚  opens           â”‚                     â”‚                   â”‚                â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚  11. Update      â”‚                     â”‚                   â”‚                â”‚
  â”‚  condition,      â”‚                     â”‚                   â”‚                â”‚
  â”‚  status, notes   â”‚                     â”‚                   â”‚                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚  12. Submit update  â”‚                   â”‚                â”‚
  â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚  13. PUT          â”‚                â”‚
  â”‚                  â”‚                     â”‚  /assets/:id      â”‚                â”‚
  â”‚                  â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚  14. Update    â”‚
  â”‚                  â”‚                     â”‚                   â”‚  asset record  â”‚
  â”‚                  â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚  15. Confirm   â”‚
  â”‚                  â”‚                     â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚  16. Create    â”‚
  â”‚                  â”‚                     â”‚                   â”‚  audit log     â”‚
  â”‚                  â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚  17. Success      â”‚                â”‚
  â”‚                  â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚                  â”‚  18. Update UI      â”‚                   â”‚                â”‚
  â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚  19. Show toast  â”‚                     â”‚                   â”‚                â”‚
  â”‚  notification    â”‚                     â”‚                   â”‚                â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                   â”‚                â”‚
  â”‚                  â”‚                     â”‚                   â”‚                â”‚
  â”‚  20. Refresh     â”‚                     â”‚                   â”‚                â”‚
  â”‚  audit list      â”‚                     â”‚                   â”‚                â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                   â”‚                â”‚
```

### Workflow 3: CSV Import Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CSV IMPORT WORKFLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Auditor        Frontend        Service Layer    Multer        Controller     Database
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  1. Click     â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  Import Data  â”‚                  â”‚              â”‚              â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  2. Dialog    â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  opens        â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  3. Select    â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  CSV file     â”‚                  â”‚              â”‚              â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  4. Validate  â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  type & size  â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  (15MB limit) â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  5. Click     â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  Import       â”‚                  â”‚              â”‚              â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  6. Create    â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  FormData     â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  with file    â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚  7. POST         â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚  /import         â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚  (multipart)     â”‚              â”‚              â”‚             â”‚
  â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  8. Process  â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  file upload â”‚              â”‚             â”‚
  â”‚               â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  9. Save to  â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  uploads/    â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  temp/       â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  10. Pass to â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  controller  â”‚              â”‚             â”‚
  â”‚               â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  11. Read    â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  file        â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  content     â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  12. Parse   â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  CSV to JSON â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  (csvToJSON) â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  13. Validateâ”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  each row    â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚  14. Insert â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚  valid rows â”‚
  â”‚               â”‚                  â”‚              â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚  15. Confirmâ”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  16. Delete  â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚  temp file   â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  17. Return  â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  results +   â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚  errors      â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚  18. Update UI   â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  19. Show     â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  success msg  â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  + errors     â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  20. Refresh  â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  audit list   â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚              â”‚              â”‚             â”‚
  â”‚               â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  21. Auto-    â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚  close dialog â”‚                  â”‚              â”‚              â”‚             â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚              â”‚              â”‚             â”‚
```

### Workflow 4: Asset Request Process (Employee Role)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ASSET REQUEST WORKFLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Employee       Frontend        Controller      Approval Ctrl    Database    Admin/Manager
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚  1. Request   â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚  new asset    â”‚                â”‚                 â”‚              â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚  2. Fill      â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚  request form â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚  3. Submit    â”‚                â”‚                 â”‚              â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚  4. POST       â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚  /asset-       â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚  requests      â”‚                 â”‚              â”‚             â”‚
  â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚  5. Create      â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚  request record â”‚              â”‚             â”‚
  â”‚               â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚  6. Create      â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚  approval       â”‚              â”‚             â”‚
  â”‚               â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  7. Insert   â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  approval    â”‚             â”‚
  â”‚               â”‚                â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  8. Send     â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  notificationâ”‚             â”‚
  â”‚               â”‚                â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚  9. Success    â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚  10. Confirm  â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚  11. Review â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚  request    â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  12. Approve â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  /Reject     â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  13. Update  â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  approval    â”‚             â”‚
  â”‚               â”‚                â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚              â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  14. Notify  â”‚             â”‚
  â”‚               â”‚                â”‚                 â”‚  employee    â”‚             â”‚
  â”‚  15. Email/   â”‚                â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  Notification â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚             â”‚
```

---

## ðŸ“¦ Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND COMPONENT HIERARCHY                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              App.tsx (Root)
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              â”‚              â”‚
              AuthContext    ModalContext    Redux Store
                    â”‚              â”‚              â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”      â”‚              â”‚
            â”‚               â”‚      â”‚              â”‚
 Protected Routes  Public Routes   â”‚              â”‚
            â”‚               â”‚      â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”       â”‚      â”‚              â”‚
    â”‚               â”‚       â”‚      â”‚              â”‚
DashboardLayout  Auth Pages â”‚      â”‚              â”‚
    â”‚                       â”‚      â”‚              â”‚
    â”œâ”€ Sidebar              â”‚      â”‚              â”‚
    â”œâ”€ Header               â”‚      â”‚              â”‚
    â”œâ”€ Content Area â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€ Footer               â”‚
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               â”‚                         â”‚
      Admin Pages    Auditor Pages             Employee Pages
            â”‚               â”‚                         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚           â”‚    â”‚             â”‚              â”‚        â”‚
UserMgmt   AssetMgmt AuditorDash AuditList     MyAssets MyRequests
    â”‚           â”‚         â”‚           â”‚           â”‚        â”‚
    â””â”€ Tables   â””â”€ Forms  â””â”€ Charts   â””â”€ Table    â””â”€ List  â””â”€ Cards
       Cards       Modals    Stats       Modals      Forms    Dialogs
```

---

## ðŸ” Security Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SECURITY & AUTHORIZATION FLOW                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Request â†’ JWT Validation â†’ Role Check â†’ Permission Check â†’ Execute â†’ Response
  â”‚              â”‚              â”‚              â”‚             â”‚          â”‚
  â”‚              â”‚              â”‚              â”‚             â”‚          â”‚
  â”œâ”€ No Token â”€â”€â”€â”´â”€ Invalid â”€â”€â”€â”€â”´â”€ No Access  â”€â”´â”€ Denied â”€â”€â”€â”€â”´â”€  Error â”€â”˜
  â”‚                   â”‚              â”‚              â”‚
  â”‚              401 Unauthorized   403 Forbidden   403 Forbidden
  â”‚
  â””â”€ Valid Token â†’ Decode Payload â†’ Check Role â†’ Check Permission â†’ Allow

JWT Payload:
{
  userId: "...",
  email: "...",
  role: "AUDITOR",
  iat: 1234567890,
  exp: 1234610890  // 12 hours later
}

Role Permissions Matrix:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Resource    â”‚ ADMIN  â”‚ INV_MGR â”‚ AUDITOR  â”‚ EMPLOYEE â”‚ VENDOR â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Users       â”‚ CRUD   â”‚ R       â”‚ R        â”‚ -        â”‚ -      â”‚
â”‚ Assets      â”‚ CRUD   â”‚ CRUD    â”‚ R        â”‚ R (own)  â”‚ R      â”‚
â”‚ Audits      â”‚ RU     â”‚ RU      â”‚ CRUD     â”‚ -        â”‚ -      â”‚
â”‚ Approvals   â”‚ CRUD   â”‚ CRUD    â”‚ R        â”‚ CR (own) â”‚ -      â”‚
â”‚ Reports     â”‚ RE     â”‚ RE      â”‚ RE       â”‚ -        â”‚ -      â”‚
â”‚ System Logs â”‚ R      â”‚ -       â”‚ R        â”‚ -        â”‚ -      â”‚
â”‚ Vendors     â”‚ CRUD   â”‚ CRUD    â”‚ R        â”‚ R        â”‚ RU     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
C=Create, R=Read, U=Update, D=Delete, E=Export
```

---

## ðŸ“Š Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            DATA FLOW ARCHITECTURE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Input â†’ Frontend Validation â†’ API Call â†’ Backend Validation â†’ Database
    â”‚              â”‚                   â”‚              â”‚               â”‚
    â”‚              â”‚                   â”‚              â”‚               â”‚
    â””â”€ Client-side rules               â””â”€ Server-side rules           â””â”€ ACID
       â€¢ Required fields                  â€¢ JWT validation              transactions
       â€¢ Format check                     â€¢ Role check                 
       â€¢ Min/Max length                   â€¢ Data sanitization          
       â€¢ Type validation                  â€¢ Business logic             
                                          â€¢ Duplicate check            

Response Path:
Database â†’ Controller â†’ Format Response â†’ Service Layer â†’ Update State â†’ UI
    â”‚          â”‚              â”‚                â”‚              â”‚         â”‚
    â”‚          â”‚              â”‚                â”‚              â”‚         â”‚
    â””â”€ Raw dataâ””â”€ Business    â””â”€ JSON/CSV      â””â”€ Parse       â””â”€ React  â””â”€ Render
                  logic          structure        response       state    components

Error Path:
Error â†’ Catch Block â†’ Log Error â†’ Format Error â†’ Return 4xx/5xx â†’ Display Toast
  â”‚         â”‚            â”‚            â”‚              â”‚               â”‚
  â”‚         â”‚            â”‚            â”‚              â”‚               â”‚
  â””â”€ Any    â””â”€ try/catch â””â”€ Console   â””â”€ Standard    â””â”€ HTTP         â””â”€ User-friendly
    exception   blocks      logger       format         status          message
```

---

## ðŸŽ¯ Detailed Component Explanations

### 1. **Frontend Layer**

#### **A. User Interface Layer**
**Purpose**: Presents the application to users based on their role

**Components**:
- **Login Pages**: Authentication forms with validation
- **Admin Pages**: User management, asset management, system settings
- **Auditor Pages**: Audit dashboard, audit list, compliance metrics
- **Employee Pages**: My assets, my requests, profile
- **Vendor Pages**: Vendor dashboard, product catalog, purchase orders

**Technology**: React 18, TypeScript, Material-UI

**Key Features**:
- Role-based rendering
- Responsive design (mobile, tablet, desktop)
- Dark/light theme support
- Accessibility (ARIA labels, keyboard navigation)

---

#### **B. Component Layer**

**Layout Components**:
- **DashboardLayout**: Main wrapper with sidebar, header, content area
- **Sidebar**: Navigation menu with role-based links
- **Header**: User info, notifications, logout button
- **Footer**: Copyright, version info, links

**Feature Components**:
- **AssetTable**: Displays assets with sort, filter, pagination
- **AuditList**: Shows audit items with edit capability
- **ApprovalCards**: Displays approval requests with actions
- **UserManagement**: CRUD operations for users

**Common Components**:
- **Modals**: Reusable dialog boxes (confirm, form, info)
- **Forms**: Input components with validation
- **Charts**: Bar, line, doughnut charts (Chart.js)
- **DataGrids**: Advanced tables with inline editing

---

#### **C. State Management Layer**

**AuthContext**:
- Manages user authentication state
- Stores: user data, token, role, permissions
- Methods: login, logout, refreshToken, checkAuth

**ModalContext**:
- Controls modal visibility and content
- Stores: modalType, modalData, isOpen
- Methods: openModal, closeModal, setModalData

**Redux Store**:
- Global application state
- Slices: auth, assets, approvals, notifications
- Middleware: Redux Thunk for async actions

---

#### **D. Service Layer**

**Purpose**: Abstracts API calls from components

**Services**:
- **auditorService**: Audit-related API calls
  - `getAuditorStats()`, `getAuditItems()`, `updateAuditStatus()`
  - `exportAuditReport()`, `importAuditData()`
  
- **assetService**: Asset management APIs
  - `getAssets()`, `createAsset()`, `updateAsset()`, `deleteAsset()`
  
- **authService**: Authentication APIs
  - `login()`, `logout()`, `register()`, `refreshToken()`
  
- **userService**: User management APIs
  - `getUsers()`, `createUser()`, `updateUser()`, `deleteUser()`

**Features**:
- Centralized error handling
- Request/response interceptors
- Token management
- Retry logic for failed requests

---

#### **E. HTTP Client (Axios)**

**Configuration**:
```typescript
axios.create({
  baseURL: 'http://localhost:5000/api',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
})
```

**Interceptors**:
- **Request Interceptor**: Adds JWT token to headers
- **Response Interceptor**: Handles errors, refreshes token

---

### 2. **Backend Layer**

#### **A. Middleware Layer**

**authMiddleware**:
- **Purpose**: Validates JWT tokens and checks permissions
- **Functions**:
  - `authMiddleware`: Verifies token, attaches user to request
  - `requireRole(['ADMIN', 'AUDITOR'])`: Checks if user has required role
- **Error Handling**: Returns 401 (Unauthorized) or 403 (Forbidden)

**uploadMiddleware**:
- **Purpose**: Handles file uploads with validation
- **Configurations**:
  - `documentUpload`: PDFs, Word docs, Excel (10MB limit)
  - `assetImageUpload`: Images (5MB limit)
  - `importUpload`: CSV/JSON (15MB limit)
- **Storage**: Multer disk storage with unique filenames
- **Validation**: File type, size, count limits

**errorMiddleware**:
- **Purpose**: Centralized error handling
- **Features**:
  - Logs errors to console/file
  - Formats error responses
  - Hides sensitive info in production
  - Returns appropriate HTTP status codes

---

#### **B. Routes Layer**

**Purpose**: Maps HTTP requests to controller functions

**Key Routes**:
```javascript
/api/auth               // Authentication endpoints
/api/users              // User management
/api/assets             // Asset CRUD operations
/api/auditor            // Auditor-specific endpoints
/api/dashboard          // Dashboard data
/api/approvals          // Approval workflow
/api/export-import      // CSV/JSON export/import
/api/documents          // Document management
/api/vendors            // Vendor management
/api/maintenance        // Maintenance requests
/api/notifications      // Notification system
```

**HTTP Methods**:
- GET: Retrieve data
- POST: Create new records
- PUT: Update existing records
- DELETE: Remove records

---

#### **C. Controller Layer**

**Purpose**: Business logic and request handling

**Key Controllers**:

**authController**:
- `login`: Validates credentials, generates JWT
- `register`: Creates new user account
- `refreshToken`: Issues new token when expired
- `changePassword`: Updates user password

**auditorController** (via dashboardController):
- `getAuditorStats`: Returns audit statistics (assigned, completed, pending, etc.)
- `getAuditItems`: Returns list of assets for auditing
- `getAuditProgressChart`: Returns 6-month audit progress data
- `getConditionChart`: Returns asset condition distribution
- `getComplianceMetrics`: Returns compliance score and breakdown

**assetController**:
- `getAssets`: Returns all assets (with pagination, filtering)
- `getAssetById`: Returns single asset details
- `createAsset`: Creates new asset record
- `updateAsset`: Updates asset information
- `deleteAsset`: Soft deletes asset (marks as deleted)

**exportImportController**:
- `exportData`: Exports data as JSON or CSV
  - Converts data to CSV format using `jsonToCSV` helper
  - Adds proper headers (Content-Type, Content-Disposition)
  - Populates related fields (createdBy, lastAuditedBy)
  
- `importData`: Imports data from CSV or JSON file
  - Receives file via Multer middleware
  - Parses CSV using `csvToJSON` helper
  - Validates each row (required fields, data types)
  - Inserts valid records to database
  - Returns import statistics and errors
  - Cleans up temporary files

---

#### **D. Model Layer (Mongoose)**

**Purpose**: Defines data structure and database operations

**Key Models**:

**User Model**:
```javascript
{
  name: String,
  email: String (unique, required),
  password: String (hashed),
  role: Enum ['ADMIN', 'INVENTORY_MANAGER', 'AUDITOR', 'EMPLOYEE', 'VENDOR'],
  department: String,
  phone: String,
  isActive: Boolean,
  createdAt: Date,
  updatedAt: Date
}
```

**Asset Model**:
```javascript
{
  assetTag: String (unique, required),
  name: String,
  description: String,
  category: String,
  location: String,
  condition: Enum ['Excellent', 'Good', 'Fair', 'Poor', 'Damaged'],
  status: String,
  purchaseDate: Date,
  purchasePrice: Number,
  currentValue: Number,
  department: String,
  assignedTo: ObjectId (User),
  lastAuditedBy: ObjectId (User),
  lastAuditDate: Date,
  qrCode: String,
  images: [String],
  notes: String,
  createdBy: ObjectId (User),
  createdAt: Date,
  updatedAt: Date
}
```

**Approval Model**:
```javascript
{
  requestType: Enum ['ASSET_REQUEST', 'MAINTENANCE', 'TRANSFER'],
  requestId: ObjectId,
  requestedBy: ObjectId (User),
  approver: ObjectId (User),
  status: Enum ['PENDING', 'APPROVED', 'REJECTED'],
  comments: String,
  approvedAt: Date,
  createdAt: Date
}
```

**Features**:
- Mongoose middleware (pre/post hooks)
- Virtual properties
- Instance methods
- Static methods
- Indexing for performance

---

### 3. **Database Layer**

**MongoDB Atlas (Cloud Database)**:

**Collections**:
- **users**: User accounts and authentication
- **assets**: Asset inventory
- **approvals**: Approval workflow
- **transactions**: Asset transactions (transfer, disposal)
- **maintenances**: Maintenance requests and schedules
- **notifications**: User notifications
- **documents**: Document metadata (files stored separately)
- **auditlogs**: System audit trail
- **assetrequests**: Employee asset requests
- **assettransfers**: Asset transfer records
- **purchaseorders**: Purchase orders
- **purchaserequests**: Purchase requests
- **vendors**: Vendor information

**Features**:
- **Replication**: 3-node replica set for high availability
- **Sharding**: Horizontal scaling for large datasets
- **Indexes**: Optimized queries (single, compound, text indexes)
- **Auto-backup**: Daily backups with point-in-time recovery
- **Monitoring**: Real-time performance metrics

**Connection**:
```javascript
mongoose.connect(process.env.MONGODB_URI, {
  useNewUrlParser: true,
  useUnifiedTopology: true
})
```

---

### 4. **File Storage Layer**

**Local File System**:

**Directory Structure**:
```
uploads/
â”œâ”€â”€ documents/          // User-uploaded documents (contracts, invoices, manuals)
â”‚   â””â”€â”€ [filename]-[timestamp].[ext]
â”œâ”€â”€ asset-images/       // Asset photos and QR codes
â”‚   â””â”€â”€ asset-[timestamp].[ext]
â””â”€â”€ temp/               // Temporary import files (auto-deleted)
    â””â”€â”€ import-[timestamp].[ext]
```

**File Naming Convention**:
- Unique timestamp + random number to prevent conflicts
- Original extension preserved
- Example: `document-1698765432000-123456789.pdf`

**Cleanup Strategy**:
- Temp files deleted after processing (success or error)
- Orphaned files cleaned up by scheduled job (future enhancement)

---

## ðŸ“Š Comparison Tables

### Table 1: Role Comparison

| Feature             | ADMIN       | INVENTORY_MANAGER | AUDITOR      | EMPLOYEE     | VENDOR           |
|---------------------|-------------|-------------------|--------------|--------------|------------------|
| **Dashboard Pages** | 5+          | 4+                | 3            | 5            | 3                |
| **Asset Access**    | All (CRUD)  | All (CRUD)        | All (R)      | Own (R)      | Public (R)       |
| **User Management** | Full CRUD   | Read only         | Read only    | None         | None             |
| **Audit Functions** | Read/Update | Read/Update       | Full CRUD    | None         | None             |
| **Approval Rights** | Approve all | Approve dept      | None         | Create own   | None             |
| **Report Export**   | Yes (All)   | Yes (Dept.)       | Yes (Audit)  | No           | No               |
| **System Logs**     | Full access | No access         | Audit logs   | No access    | No access        |
| **Vendor Mgmt**     | Full CRUD   | Full CRUD         | Read only    | Read only    | Update own       |
| **Document Upload** | Yes         | Yes               | Yes          | Yes (limited)| Yes (limited)    |
| **Data Export**     | JSON/CSV    | JSON/CSV          | JSON/CSV     | No           | No               |
| **Data Import**     | JSON/CSV    | JSON/CSV          | JSON/CSV     | No           | No               |
| **Notifications**   | All system  | Department        | AuditRelated | Personal     | Purchase-related |

---

### Table 2: Page Comparison (Auditor vs Employee)

| Aspect                  | Auditor Pages                | Employee Pages              |
|--------------------     |------------------------------|--------------------------   |
| **Number of Pages**     | 3 specialized                | 5 basic                     |
| **Dashboard Stats**     | 6 cards (audit metrics)      | 4 cards (personal assets)   |
| **Charts**              | Yes (Bar, Doughnut)          | No                          |
| **Main Function**       | Audit & Compliance           | Asset usage & requests      |
| **Data Scope**          | System-wide                  | Personal only               |
| **Edit Capability**     | Update audit status          | Create requests only        |
| **Export Features**     | JSON/CSV export              | None                        |
| **Import Features**     | JSON/CSV import              | None                        |
| **Compliance Tracking** | Full metrics & trends        | None                        |
| **Quick Actions**       | View/Start Audit, Export     | Request Asset, Report Issue |

---

### Table 3: API Endpoint Comparison

### Table 3: API Endpoint Comparison

| Endpoint | Method | Auth Required | Roles Allowed | Request Body | Response | Rate Limit | Cache |
|----------|--------|---------------|---------------|--------------|-----------|------------|-------|
| `/auth/login` | POST | No | All | `{email, password}` | `{token, user}` | 5/min | No |
| `/auth/logout` | POST | Yes | All | - | `{success}` | None | No |
| `/auth/refresh` | POST | Yes | All | `{refreshToken}` | `{newToken}` | 20/min | No |
| `/auth/register` | POST | Yes | ADMIN | `{name, email, role}` | `{user}` | 10/min | No |
| `/assets` | GET | Yes | All | - | `[assets]` | 100/min | 5min |
| `/assets` | POST | Yes | ADMIN, INV_MGR | `{assetData}` | `{asset}` | 50/min | No |
| `/assets/:id` | DELETE | Yes | ADMIN | - | `{success}` | 20/min | No |
| `/assets/:id` | GET | Yes | All | - | `{asset}` | 100/min | 5min |
| `/assets/:id` | PUT | Yes | ADMIN, INV_MGR | `{updates}` | `{asset}` | 50/min | No |
| `/audit/items` | GET | Yes | AUDITOR | - | `[items]` | 100/min | 1min |
| `/audit/stats` | GET | Yes | AUDITOR | - | `{stats}` | 100/min | 1min |
| `/audit/:id` | PUT | Yes | AUDITOR | `{status, notes}` | `{audit}` | 50/min | No |
| `/dashboard` | GET | Yes | All | - | `{stats}` | 100/min | 1min |
| `/export` | POST | Yes | ADMIN, AUDITOR | `{type, format}` | File | 10/min | No |
| `/import` | POST | Yes | ADMIN, AUDITOR | CSV/JSON file | `{results}` | 5/min | No |
| `/reports` | GET | Yes | ADMIN, AUDITOR | `{type, dates}` | `{report}` | 50/min | 10min |
| `/users` | GET | Yes | ADMIN | - | `[users]` | 100/min | 5min |
| `/users` | POST | Yes | ADMIN | `{userData}` | `{user}` | 20/min | No |
| `/users/:id` | DELETE | Yes | ADMIN | - | `{success}` | 20/min | No |
| `/users/:id` | PUT | Yes | ADMIN | `{updates}` | `{user}` | 50/min | No |

---

### Table 4: Component Type Comparison

| Component Type        | Purpose            | Examples                     | Reusability  | State Management      |
|----------------------|--------------------|-----------------------------|--------------|---------------------|
| Layout Components    | Page structure     | DashboardLayout, Sidebar    | High         | Context API         |
| Page Components      | Main routes        | AuditorDashboard, AuditList | Low          | Local State+Context |
| Feature Components   | Specific features  | AssetTable, ApprovalCards   | Medium       | Props+Local State   |
| Common Components    | Reusable UI        | Modal, Button, Input        | Very High    | Props only          |
| Chart Components     | Data visualization | AuditChart, ConditionChart  | High         | Props only          |

### Table 5: Data Flow Comparison (Export vs Import)

| Aspect             | Export (JSON/CSV)                  | Import (CSV/JSON)                      |
|-------------------|-----------------------------------|----------------------------------------|
| User Action       | Click "Export CSV" button          | Click "Import Data", select file       |
| Frontend Valid    | None required                      | File type, size (15MB)                 |
| HTTP Method       | POST                               | POST (multipart/form-data)             |
| Request Format    | {type:'assets', format:'csv'}      | FormData with file                     |
| Backend Process   | Query DB â†’ Format â†’ Return         | Upload â†’ Parse â†’ Validate â†’ Insert     |
| Middleware Used   | authMiddleware, requireRole        | authMiddleware, upload, requireRole    |
| Response Type     | Blob (CSV) / JSON                  | JSON (stats + errors)                  |
| File Handling     | Generate on-the-fly                | Save temp â†’ Process â†’ Delete           |
| Error Handling    | 500 error response                 | Row-by-row validation + error list     |
| Success Feedback  | Toast + file download              | Toast + message + auto-refresh         |
| Performance       | O(n) - fast                        | O(n) + DB insert - slower              |

### Table 6: File Upload Middleware Comparison

| Middleware        | Purpose          | File Types                     | Size Limit | Destination          | Used By           |
|------------------|------------------|--------------------------------|------------|---------------------|------------------|
| documentUpload   | User documents   | PDF,DOC,DOCX,XLS,XLSX,TXT,CSV | 10 MB      | uploads/documents/   | Document routes  |
| assetImageUpload | Asset photos     | JPG,JPEG,PNG,GIF,WEBP         | 5 MB       | uploads/asset-images/| Asset routes     |
| importUpload     | Import files     | CSV,JSON                       | 15 MB      | uploads/temp/        | Import route     |

### Tables 7: Authentication Mechanism Comparison

| Mechanism        | Purpose                              | Strengths                                  | Weaknesses                          | Typical Use Cases                        |
|------------------|--------------------------------------|--------------------------------------------|-------------------------------------|------------------------------------------|
| JWT (Stateless)  | Token-based auth for APIs/clients    | Scalable, stateless, easy to use in SPAs   | Token revocation/rotation complexity| Mobile apps, SPAs, microservices         |
| Session Cookies  | Server-side session management       | Easy token revocation, secure with SameSite| Requires sticky sessions for scale  | Traditional web apps, server-rendered UI |
| OAuth2 / OIDC    | Delegated auth / SSO                 | Standardized, third-party login support    | More complex setup                  | SSO, integration with identity providers |
| API Keys         | Simple service-to-service auth       | Simple, lightweight                        | Poor granularity, less secure       | Internal services, service integrations  |
| Refresh Tokens   | Extend short-lived access tokens     | Improved security, reduced exposure window | Requires secure storage & rotation  | Long sessions, token refresh workflows   |


### Table 8: State Management Comparison

| Type                  | Libraries/Tools          | Scope                    | Pros                                       | Cons                                    |
|-----------------------|--------------------------|--------------------------|--------------------------------------------|-----------------------------------------|
| Context + Hooks       | React Context, useReducer| Local/medium app-wide    | Built-in, simple for small apps            | Prop drilling for complex needs         |
| Redux (Toolkit)       | @reduxjs/toolkit         | Global                   | Predictable, devtools, large ecosystem     | Boilerplate (reduced by RTK), learning curve |
| Zustand / Jotai       | Zustand, Jotai           | Global/lightweight       | Minimal boilerplate, fast, flexible        | Smaller ecosystem, patterns vary        |
| React Query / SWR     | react-query, swr         | Server-state / caching   | Data caching, deduping, background sync    | Not for complex client-only state       |
| MobX                  | mobx                     | Global/observable        | Simple reactive patterns                   | Implicit reactivity can be opaque       |


### Table 9: Error Handling Strategies

| Layer           | Strategy                                | Advantages                                | Example Response / Status               |
|-----------------|-----------------------------------------|-------------------------------------------|-----------------------------------------|
| Client (UI)     | User-friendly toasts + retry actions    | Better UX, immediate feedback             | 400/401/403 â†’ show message + retry btn  |
| HTTP Client     | Interceptors (refresh token, retry)     | Centralized handling, automated refresh   | 401 â†’ attempt refresh, then retry       |
| Controller/API  | Validate â†’ try/catch â†’ standardized err | Consistent responses, easier debugging    | 400 Bad Request / 422 Validation errors |
| Middleware/Log  | Central error middleware + structured logs | Mask sensitive info in prod, traceable  | 500 Internal Server Error (generic msg) |
| Background Jobs | Retry with backoff, dead-letter queue   | Resilient processing, failure tracking    | Task moved to DLQ after N retries       |


### Table 10: Performance Optimization Techniques

| Area               | Technique                                | Benefit                                  | Implementation Notes                          |
|--------------------|------------------------------------------|------------------------------------------|-----------------------------------------------|
| Network            | Pagination, filtering, gzip, caching     | Reduced payloads, faster responses       | Use HTTP cache headers, CDN for static assets |
| Database           | Indexing, projection, pagination         | Faster queries, less I/O                 | Add compound indexes for common filters       |
| Backend            | Connection pooling, query optimization   | Improved throughput                      | Monitor slow queries, profile endpoints       |
| Frontend           | Code splitting, lazy loading, memoization| Faster initial load, less re-rendering   | Use React.lazy, useMemo/useCallback           |
| File Handling      | Streams, multipart processing, async ops | Lower memory use, responsive uploads     | Stream large exports, delete temp files       |
| Monitoring         | APM + metrics + alerts                   | Detect regressions early                 | Instrument critical paths, set SLOs           |


---

## ðŸŽ¯ Summary

This comprehensive diagram covers:

1. **System Architecture**: 4 layers (Client, Network, Server, Database)
2. **User Workflows**: Authentication, Audit, CSV Import, Asset Request
3. **Component Interactions**: Frontend hierarchy and data flow
4. **Security Flow**: JWT validation and role-based access
5. **Data Flow**: Request/response paths with error handling
6. **Component Details**: Purpose and functionality of each part
7. **10 Comparison Tables**: Roles, pages, APIs, components, data flow, middleware, auth, state, errors, performance

**Total Coverage**:
- âœ… Frontend architecture (6 sub-layers)
- âœ… Backend architecture (4 sub-layers)
- âœ… Database layer (12 collections)
- âœ… File storage (3 directories)
- âœ… 4 complete workflows
- âœ… 10 detailed comparison tables
- âœ… Security & authorization flow
- âœ… Error handling strategies
- âœ… Performance metrics

This documentation provides a complete understanding of how the Online Dead Stock Register system works from user interaction to database storage and back.
